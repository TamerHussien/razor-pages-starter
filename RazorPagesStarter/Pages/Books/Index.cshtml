@page
@model RazorPagesStarter.Pages.Books.IndexModel
@{
    ViewData["Title"] = "Book List";
}

<h2>📚 Book List</h2>

@if (TempData["Message"] is string msg)
{
    <div class="alert alert-info">@msg</div>
}

<a asp-page="/Books/Add" class="btn btn-primary mb-3">Add Book</a>

@if (!Model.BookList.Any())
{
    <p>No books added yet.</p>
}
else
{
    <ul class="list-group">
        @foreach (var book in Model.BookList)
        {
            <li class="list-group-item d-flex justify-content-between">
                <span>@book</span>
                <form method="post" asp-page-handler="Delete">
                    <input type="hidden" name="title" value="@book" />
                    <button type="submit" class="btn btn-danger btn-sm">Delete</button>
                </form>
            </li>
        }
    </ul>
}
